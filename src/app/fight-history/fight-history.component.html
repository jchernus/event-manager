<app-record-result></app-record-result>

<br>
<h2>Fight Results</h2>
<br>
<div>
  <table class="table">
    <thead>
      <tr>
        <th>Winner</th>
        <th>Loser</th>
        <th>Win Condition</th>
        <th>Date/Time</th>
        <ng-container *ngIf="auth.user | async as user">
          <th *ngIf="user.admin">Controls</th>
        </ng-container>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let fight of fights">
        <td>{{fight.winner}}</td>
        <td>{{fight.loser}}</td>
        <td *ngIf="fight.ko; else jd">KO</td>
        <ng-template #jd>
          <td>JD</td>
        </ng-template>
        <td>{{fight.timestamp.toDate() | date:'medium'}}</td>
        <ng-container *ngIf="auth.user | async as user">
          <td *ngIf="user.admin">
            <button 
              (click)="fightService.deleteFight(fight.id)"  
              type="button" 
              class="btn btn-outline-danger">
                Delete Fight
            </button>
          </td>
        </ng-container>
      </tr>
    </tbody>
  </table>
</div>
