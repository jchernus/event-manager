<app-record-result></app-record-result>

<br>
<h2>Fight Results</h2>
<br>
<div>
  <table class="table">
    <thead>
      <tr>
        <th>Winner</th>
        <th>Loser</th>
        <th>Win Condition</th>
        <th>Date/Time</th>
        <th *ngIf="auth.canEdit(user)">Controls</th>
      </tr>
    </thead>
      <tr *ngFor="let fight of fights">
        <td>{{fight.winner}}</td>
        <td>{{fight.loser}}</td>
        <td *ngIf="fight.ko; else jd">KO</td>
        <ng-template #jd>
          <td>JD</td>
        </ng-template>
        <td>{{fight.timestamp.toDate() | date:'medium'}}</td>
        <td *ngIf="auth.canEdit(user)">
          <button 
            (click)="fightService.deleteFight(fight)"  
            type="button" 
            class="btn btn-outline-danger">
              Delete Fight
          </button>
        </td>
      </tr>
  </table>
</div>
