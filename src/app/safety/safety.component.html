<h2>Safety</h2>

<ul class="nav nav-pills">
	<li class="nav-item">
    <a class="nav-link" [class.active]="viewMode==250" (click)="changeViewMode(250)">Heavyweight</a>
  </li>
	<li class="nav-item">
    <a class="nav-link" [class.active]="viewMode==30" (click)="changeViewMode(30)">Sportsman</a>
  </li>
	<li class="nav-item">
    <a class="nav-link" [class.active]="viewMode==15" (click)="changeViewMode(15)">Dogeweight</a>
  </li>
</ul>

<div>
	<table class="table">
		<tr>
      <th>Bot</th>
      <th>Safety</th>
      <th>Passed Safety Time</th>
      <th>Control</th>
    </tr>
		<tr *ngFor="let robot of (robots | async)">
      <td>{{ robot.name }} </td>

      <td *ngIf="robot.passedSafety; else notPassedSafety">&#x2714;</td>
      <ng-template #notPassedSafety>
        <td>&#x274C;</td>
      </ng-template>

      <td *ngIf="robot.safetyTime !== undefined; else noTimestamp">{{ robot.safetyTime.toDate() | timeAgo}} </td>
      <ng-template #noTimestamp><td></td></ng-template>

      <td *ngIf="robot.passedSafety; else markSafety">
        <button (click)="robotService.markSafety(robot.id, false)" type="button" class="btn btn-outline-danger">Revoke Safety</button>
      </td>
      <ng-template #markSafety>
        <td><button (click)="robotService.markSafety(robot.id, true)" type="button" class="btn btn-outline-success">Pass Safety</button></td>
      </ng-template>
    </tr>
	</table>
</div>
<br>